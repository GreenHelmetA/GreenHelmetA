# -*- coding: utf-8 -*-"""日付:    2020年07月26日    2021年01月21日    2021年02月06日ファイル名:    covid.py    covid_lib.py内容:    新型コロナウイルスの新規患者数と(簡易)実効再生産数を計算するプログラム入力:    NHKのCSVファイル出力:    graph.png"""import tkinter as tkimport covid_lib as cv# -------------------------------------------------------------------------------## メイン関数                                                                       ## -------------------------------------------------------------------------------## (12)ワクチン接種の生データをダウンロード-首相官邸★def covid_data_from_kantei():    cvd = cv.Covid19()    cvd.kantei_vaccine_dose_data()# （06）NHKデータ、新規感染者数対累積感染者数グラフ関数def covid_data_nhk():    cvd = cv.Covid19()    cvd.read_csv_file()    cvd.nhk_separete_data()  # NHKデータを読み県別にデータを分け（県名.csv）ファイルに保存する    cvd.nhk_compute_rt()  # 県別データを読み（県名.csv）CUMSUM処理    cvd.nhk_make_excel_sheet()  # Rt、エクセルRtへ保存    cvd.nhk_do_sort()  # i,RtでソートしてエクセルRtへ追加    cvd.nhk_add_Ratio()  # ワクチン接種率を計算    cvd.nhk_plot_data()  # プロット    #cvd = cv.Covid19()    cvd.read_csv_file()    cvd.make_text_for_twitter()# (19)Twitter用文言CSVへ保存def make_text():    cvd = cv.Covid19()    cvd.read_csv_file()    cvd.make_text_for_twitter()# （16）Groupby計算def covid_groupby():    cvd = cv.Covid19()    cvd.covid_goupby()#（17）Ｒｔ計算def covid_test_r0():    cvd = cv.Covid19()    cvd.sw=1    cvd.prefecture_name='東京都'    cvd.nhk_compute_rt()  # 県別データを読み（県名.csv）CUMSUM処理    cvd.nhk_make_excel_sheet()  # Rt、エクセルRtへ保存    #cvd.nhk_add_Ratio()  # ワクチン接種率を計算    cvd.plot_data()  # プロット# (15)感染者数のカーブフィットするオブジェクト2def covid_curve_fit_rt():    cvd = cv.Covid19()    cvd.curve_fit_rt()# -------------------------------------------------------------------------------## GUI　グラフィカルユーザーインターフェースdef gui_main():    tki = tk.Tk()  # 画面作成    tki.geometry('600x210')  # 横 X 縦 画面サイズ指定    tki.title('新型コロナウイルス')  # タイトル文字    label1 = tk.Label(tki, text='COVID-19')  # ラベル生成    label1.place(x=50, y=0)  # ラベル位置    btn12 = tk.Button(tki, justify='center', text='(12)　ワクチン接種回数(首相官邸)　',                      command=covid_data_from_kantei)  # ボタン生成    btn12.place(x=50, y=20, width=400)  # ボタン位置とサイズ    btn06 = tk.Button(tki, justify='center', text='(06)　NHKデータを読みグラフを書く',                      command=covid_data_nhk)  # ボタン生成    btn06.place(x=50, y=50, width=400)  # ボタン位置とサイズ    btn18 = tk.Button(tki, justify='center', text='(18)　twitter文言作成　　　　　　　',                      command=make_text)  # ボタン生成    btn18.place(x=50, y=80, width=400)  # ボタン位置とサイズ    btn17 = tk.Button(tki, justify='center', text='(17)　東京都のRtを計算　　　　　　　',                          command=covid_test_r0)  # ボタン生成    btn17.place(x=50, y=110, width=400)  # ボタン位置とサイズ    btn16 = tk.Button(tki, justify='center', text='(16)　Groupbyを計算　　　　　　　',                      command=covid_groupby)  # ボタン生成    btn16.place(x=50, y=140, width=400)  # ボタン位置とサイズ    btn19 = tk.Button(tki, justify='center', text='(19)　Rt_curvfitを計算　　　　　　 ',                      command=covid_curve_fit_rt)  # ボタン生成    btn19.place(x=50, y=170, width=400)  # ボタン位置とサイズ    tki.mainloop()  # 画面を表示if __name__ == '__main__':    gui_main()